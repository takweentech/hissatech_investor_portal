<div class="card d-flex flex-column gap-1 overflow-hidden">

    @if (variation == 'v-1') {
    <ngb-carousel>
        @for (item of property.sliderImages; track $index) {
        <ng-template ngbSlide>
            <div class="picsum-img-wrapper">
                <img class="card-img"
                     [src]="item.path"
                     alt="Random first slide" />
            </div>
        </ng-template>
        }


    </ngb-carousel>


    <div class="p-3 d-flex flex-column gap-3">
        <div class="d-flex gap-2 justify-content-between align-items-center">
            <a
               [routerLink]="'/' + WEB_ROUTES.OPPORTUNITIES.ROOT + '/' + WEB_ROUTES.OPPORTUNITIES.DETAILS + '/'+ property.id">
                <h6 class="mb-0">{{property.displayName}}</h6>
            </a>
            <span class="badge bg-primary">{{property.numberOfInvestors}} {{ 'OPPORTUNITY_CARD.INVESTORS' | translate
                }}</span>
        </div>


        <div class="d-flex align-items-center gap-2">
            <img class="riyal-symbol"
                 src="assets/images/riyal.svg"
                 alt="">

            <span class="text-primary fw-semibold">{{property.propertyCost}}</span>
        </div>

        <div class="progress col-12"
             role="progressbar"
             aria-label="Success example"
             aria-valuenow="25"
             aria-valuemin="0"
             aria-valuemax="100">
            <div class="progress-bar text-bg-primary"
                 [ngStyle]="{width: (property.collectedValue || 0) + '%'}">{{(property.collectedValue || 0)}}%</div>
        </div>

    </div>


    <div class="p-3 pt-2">
        <div class="bg-body-tertiary rounded p-2 pt-0 row g-2">
            <div class="col-6 d-flex flex-column gap-1">
                <small class="text-black-50">{{ 'OPPORTUNITY_CARD.ANNUAL_RETURN' | translate }}</small>
                <small class="fw-semibold d-flex align-items-center gap-1">
                    <img class="riyal-symbol"
                         src="assets/images/riyal.svg"
                         alt="">
                    {{property.annualIncome}}
                </small>
            </div>
            <div class="col-6 d-flex flex-column gap-1">
                <small class="text-black-50">{{ 'OPPORTUNITY_CARD.DATE' | translate }}</small>
                <small class="fw-semibold d-flex align-items-center gap-1">
                    {{ (property.end| date) || 'N/A'}}
                </small>
            </div>
            <div class="col-6 d-flex flex-column gap-1">
                <small class="text-black-50">{{ 'OPPORTUNITY_CARD.VALUE_COSTS' | translate }}</small>
                <small class="fw-semibold d-flex align-items-center gap-1">
                    <img class="riyal-symbol"
                         src="assets/images/riyal.svg"
                         alt="">
                    {{property.propertyCost}}

                </small>
            </div>
            <div class="col-6 d-flex flex-column gap-1">
                <small class="text-black-50">{{ 'OPPORTUNITY_CARD.STARTS_FROM' | translate }}</small>
                <small class="fw-semibold d-flex align-items-center gap-1">
                    <img class="riyal-symbol"
                         src="assets/images/riyal.svg"
                         alt="">
                    {{property.miniSubscription}}

                </small>
            </div>
        </div>

    </div>

    <!-- <div class="p-3 pt-0">
        <a [routerLink]="'/' + WEB_ROUTES.OPPORTUNITIES.ROOT + '/' + WEB_ROUTES.OPPORTUNITIES.DETAILS + '/'+ property.id"
           class="btn btn-primary width-100">View details</a>
    </div> -->

    }@else {
    <div class="row h-100">
        <div class="col-4">
            <ngb-carousel class="h-100">
                @for (item of property.sliderImages; track $index) {
                <ng-template ngbSlide>
                    <div>
                        <img class="v-2-card-img"
                             [src]="item.path"
                             alt="Random first slide" />
                    </div>
                </ng-template>
                }
            </ngb-carousel>
        </div>

        <div class="col-8 h-100">
            <div class="py-4 px-2 d-flex justify-content-center gap-4 flex-column">
                <div class="d-flex gap-4 align-items-center">
                    <a
                       [routerLink]="'/' + WEB_ROUTES.OPPORTUNITIES.ROOT + '/' + WEB_ROUTES.OPPORTUNITIES.DETAILS + '/'+ property.id">
                        <h5 class="mb-0">{{property.displayName}}</h5>
                    </a>
                    <span class="badge bg-primary">{{property.numberOfInvestors}} {{ 'OPPORTUNITY_CARD.INVESTORS' |
                        translate }}</span>
                </div>


                <div class="progress col-12"
                     role="progressbar"
                     aria-label="Success example"
                     aria-valuenow="25"
                     aria-valuemin="0"
                     aria-valuemax="100">
                    <div class="progress-bar text-bg-primary"
                         [ngStyle]="{width: property.collectedValue + '%'}">{{property.collectedValue}}%</div>
                </div>

                <div class="pt-2">
                    <div class="bg-body-tertiary rounded p-2  row g-2">
                        <div class="col-6 d-flex flex-column gap-1">
                            <small class="text-black-50">{{ 'OPPORTUNITY_CARD.ANNUAL_RETURN' | translate }}</small>
                            <small class="fw-semibold d-flex align-items-center gap-1">
                                <img class="riyal-symbol"
                                     src="assets/images/riyal.svg"
                                     alt="">
                                {{property.annualIncome}}
                            </small>
                        </div>
                        <div class="col-6 d-flex flex-column gap-1">
                            <small class="text-black-50">{{ 'OPPORTUNITY_CARD.DATE' | translate }}</small>
                            <small class="fw-semibold d-flex align-items-center gap-1">
                                {{ (property.end| date) || 'N/A'}}
                            </small>
                        </div>
                        <div class="col-6 d-flex flex-column gap-1">
                            <small class="text-black-50">{{ 'OPPORTUNITY_CARD.VALUE_COSTS' | translate }}</small>
                            <small class="fw-semibold d-flex align-items-center gap-1">
                                <img class="riyal-symbol"
                                     src="assets/images/riyal.svg"
                                     alt="">
                                {{property.propertyCost}}

                            </small>
                        </div>
                        <div class="col-6 d-flex flex-column gap-1">
                            <small class="text-black-50">{{ 'OPPORTUNITY_CARD.STARTS_FROM' | translate }}</small>
                            <small class="fw-semibold d-flex align-items-center gap-1">
                                <img class="riyal-symbol"
                                     src="assets/images/riyal.svg"
                                     alt="">
                                {{property.miniSubscription}}

                            </small>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>

    }
</div>